!function(o,a){function l(o,l,t,n){function e(a){for(var l in a)o[l]=a[l]}function s(){a("rs-modal").addClass("modal-show"),a("rs-modal .modal-background").transition({opacity:1},r,"snap"),a("rs-modal .modal-body").transition({opacity:1,y:"2rem"},r,"snap",function(){m.isVisible=!0})}function c(){a("rs-modal .modal-background").css({opacity:0}),a("rs-modal .modal-body").css({opacity:0,y:"0"}),a("rs-modal").removeClass("modal-show"),m.isVisible=!1,m.modalFlash=""}function d(o,a){m.modalFlash=o,m.modalFlashType=a}var m=this;m.isVisible=!1,m.template="",m.modalFlash="",m.modalType="",a(document).ready(function(){a(document).on("click",function(o){a(o.target).closest(".modal-body").length||m.isVisible&&c()})}),l.$on(n.open,function(o,a,l,n){m.template=a,e(l),s(),""!==n&&t(function(){n()},50)}),l.$on(n.close,function(){c()}),l.$on(n.flash,function(o,a,l){d(a,l)});var r=300}function t(){return{restrict:"E",templateUrl:"rs-modal-template.html",controller:"RsModalCtrl",controllerAs:"vm"}}function n(o){o.put("rs-modal-template.html",'<div class="modal-background"><div class="modal-body"><div class="alert {{vm.modalFlashType}}" ng-show="vm.modalFlash">{{vm.modalFlash}}</div><ng-include src="vm.template"></ng-include></div></div>')}function e(o,a,l){function t(){var a=arguments[0]||"<h1>No template</h1>",t=arguments[1]||{},n=arguments[2]||"";o.$broadcast(l.open,a,t,n)}function n(){o.$broadcast(l.close)}function e(){var a=arguments[0]||"Please supply a message",t=arguments[1]||"alert-info";o.$broadcast(l.flash,a,t)}return{open:t,close:n,flash:e}}o.module("rs-modal",[]).factory("$rsModal",e).directive("rsModal",t).controller("RsModalCtrl",l).run(n),o.module("rs-modal").constant("MODAL_EVENTS",{open:"modal-open-event",close:"modal-close-event",flash:"modal-flash-event"}),l.$inject=["$scope","$rootScope","$timeout","MODAL_EVENTS"],n.$inject=["$templateCache"],e.$inject=["$rootScope","$templateCache","MODAL_EVENTS"]}(angular,$);