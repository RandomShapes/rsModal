!function(o,a){function l(o,l,n,t){function e(){a(document).on("click.$rsModal.open",function(o){a(o.target).closest(".modal-body").length||m.isVisible&&i()})}function s(){a(document).off("click.$rsModal.open")}function c(a){for(var l in a)o[l]=a[l]}function d(){a("rs-modal").addClass("modal-show"),a("rs-modal .modal-background").transition({opacity:1},u,"snap"),a("rs-modal .modal-body").transition({opacity:1,y:"2rem"},u,"snap",function(){m.isVisible=!0}),e()}function i(){a("rs-modal .modal-background").css({opacity:0}),a("rs-modal .modal-body").css({opacity:0,y:"0"}),a("rs-modal").removeClass("modal-show"),m.isVisible=!1,m.modalFlash="",s()}function r(o,a){m.modalFlash=o,m.modalFlashType=a}var m=this;m.isVisible=!1,m.template="",m.modalFlash="",m.modalType="",l.$on(t.open,function(o,a,l,t){m.template=a,c(l),d(),""!==t&&n(function(){t()},50)}),l.$on(t.close,function(){i()}),l.$on(t.flash,function(o,a,l){r(a,l)});var u=300}function n(){return{restrict:"E",templateUrl:"rs-modal-template.html",controller:"RsModalCtrl",controllerAs:"vm"}}function t(o){o.put("rs-modal-template.html",'<div class="modal-background"><div class="modal-body"><div class="alert {{vm.modalFlashType}}" ng-show="vm.modalFlash">{{vm.modalFlash}}</div><ng-include src="vm.template"></ng-include></div></div>')}function e(o,a,l){function n(){var a=arguments[0]||"<h1>No template</h1>",n=arguments[1]||{},t=arguments[2]||"";o.$broadcast(l.open,a,n,t)}function t(){o.$broadcast(l.close)}function e(){var a=arguments[0]||"Please supply a message",n=arguments[1]||"alert-info";o.$broadcast(l.flash,a,n)}return{open:n,close:t,flash:e}}o.module("rs-modal",[]).factory("$rsModal",e).directive("rsModal",n).controller("RsModalCtrl",l).run(t),o.module("rs-modal").constant("MODAL_EVENTS",{open:"modal-open-event",close:"modal-close-event",flash:"modal-flash-event"}),l.$inject=["$scope","$rootScope","$timeout","MODAL_EVENTS"],t.$inject=["$templateCache"],e.$inject=["$rootScope","$templateCache","MODAL_EVENTS"]}(angular,$);